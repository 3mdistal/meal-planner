---
import MultiSelect from "@/components/MultiSelect.astro";
import DatalistInput from "@/components/DatalistInput.astro";

const { days, breakfastRecipes, dinnerRecipes, snacks, sides, desserts, fruits } = Astro.props;
---

<form id="mealPlanForm">
  {days.map((day: string) => (
    <fieldset>
      <legend>{day}</legend>
      <DatalistInput
        id={`${day}-breakfast-main`}
        label="Breakfast:"
        options={breakfastRecipes}
      />
      <MultiSelect
        id={`${day}-breakfast-sides`}
        label="Breakfast Sides:"
        options={sides}
        placeholder="Type or select sides"
      />
      <DatalistInput
        id={`${day}-dinner-main`}
        label="Dinner:"
        options={dinnerRecipes}
      />
      <MultiSelect
        id={`${day}-dinner-sides`}
        label="Dinner Sides:"
        options={sides}
        placeholder="Type or select sides"
      />
    </fieldset>
  ))}

  <fieldset>
    <legend>Weekly Items</legend>
    <MultiSelect
      id="snacks"
      label="Snacks:"
      options={snacks}
      placeholder="Type or select snacks"
    />
    <MultiSelect
      id="desserts"
      label="Desserts:"
      options={desserts}
      placeholder="Type or select desserts"
    />
    <MultiSelect
      id="fruits"
      label="Fruits:"
      options={fruits}
      placeholder="Type or select fruits"
    />
  </fieldset>

  <button type="submit">Save Meal Plan</button>
  <button type="button" id="copyToClipboard">Copy to Clipboard</button>
  <button type="button" id="clearMealPlan" class="clear-button">Clear Meal Plan</button>
</form>

<style>
  /* Add form-specific styles here */
  fieldset {
    margin-bottom: 1rem;
  }

  select[multiple] {
    width: 100%;
    height: 5em;
  }

  #copyToClipboard {
    margin-left: 1rem;
    background-color: #4CAF50;
  }

  .clear-button {
    margin-left: 1rem;
    background-color: #ff4136;
    color: white;
  }
</style>